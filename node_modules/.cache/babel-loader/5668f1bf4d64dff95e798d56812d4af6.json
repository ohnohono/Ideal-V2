{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar VanillaSwipe =\n/*#__PURE__*/\nfunction () {\n  function VanillaSwipe(props) {\n    _classCallCheck(this, VanillaSwipe);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"props\", void 0);\n\n    this.state = Utils.getInitialState();\n    this.props = Utils.getInitialProps(props);\n    this.handleSwipeStart = this.handleSwipeStart.bind(this);\n    this.handleSwipeMove = this.handleSwipeMove.bind(this);\n    this.handleSwipeEnd = this.handleSwipeEnd.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n  }\n\n  _createClass(VanillaSwipe, [{\n    key: \"init\",\n    value: function init() {\n      this.setupTouchListeners();\n      this.setupMouseListeners();\n    }\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      var prevProps = this.props;\n      var nextProps = Object.assign({}, prevProps, props);\n\n      if (prevProps.element !== nextProps.element) {\n        this.destroy();\n        this.props = nextProps;\n        this.init();\n        return;\n      }\n\n      this.props = nextProps;\n\n      if (prevProps.mouseTrackingEnabled !== nextProps.mouseTrackingEnabled) {\n        nextProps.mouseTrackingEnabled ? this.setupMouseListeners() : this.cleanupMouseListeners();\n      }\n\n      if (prevProps.touchTrackingEnabled !== nextProps.touchTrackingEnabled) {\n        nextProps.touchTrackingEnabled ? this.setupTouchListeners() : this.cleanupTouchListeners();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.cleanupMouseListeners();\n      this.cleanupTouchListeners();\n      this.state = Utils.getInitialState();\n      this.props = Utils.getInitialProps();\n    }\n  }, {\n    key: \"setupTouchListeners\",\n    value: function setupTouchListeners() {\n      var _this$props = this.props,\n          element = _this$props.element,\n          touchTrackingEnabled = _this$props.touchTrackingEnabled;\n\n      if (element && touchTrackingEnabled) {\n        var isPassiveSupported = Utils.checkIsPassiveSupported();\n        var options = Utils.getOptions(isPassiveSupported);\n        element.addEventListener('touchstart', this.handleSwipeStart, options);\n        element.addEventListener('touchmove', this.handleSwipeMove, options);\n        element.addEventListener('touchend', this.handleSwipeEnd, options);\n      }\n    }\n  }, {\n    key: \"cleanupTouchListeners\",\n    value: function cleanupTouchListeners() {\n      var element = this.props.element;\n\n      if (element) {\n        element.removeEventListener('touchstart', this.handleSwipeStart);\n        element.removeEventListener('touchmove', this.handleSwipeMove);\n        element.removeEventListener('touchend', this.handleSwipeEnd);\n      }\n    }\n  }, {\n    key: \"setupMouseListeners\",\n    value: function setupMouseListeners() {\n      var _this$props2 = this.props,\n          element = _this$props2.element,\n          mouseTrackingEnabled = _this$props2.mouseTrackingEnabled;\n\n      if (element && mouseTrackingEnabled) {\n        element.addEventListener('mousedown', this.handleMouseDown);\n        element.addEventListener('mousemove', this.handleMouseMove);\n        element.addEventListener('mouseup', this.handleMouseUp);\n        element.addEventListener('mouseleave', this.handleMouseLeave);\n      }\n    }\n  }, {\n    key: \"cleanupMouseListeners\",\n    value: function cleanupMouseListeners() {\n      var element = this.props.element;\n\n      if (element) {\n        element.removeEventListener('mousedown', this.handleMouseDown);\n        element.removeEventListener('mousemove', this.handleMouseMove);\n        element.removeEventListener('mouseup', this.handleMouseUp);\n        element.removeEventListener('mouseleave', this.handleMouseLeave);\n      }\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e) {\n      var _this$state = this.state,\n          x = _this$state.x,\n          y = _this$state.y,\n          start = _this$state.start;\n      var rotationAngle = this.props.rotationAngle;\n      var movingPosition = Utils.calculateMovingPosition(e);\n      var rotatePosition = Utils.rotateByAngle(movingPosition, rotationAngle);\n      return Utils.calculatePosition({\n        x: x,\n        y: y,\n        start: start\n      }, rotatePosition);\n    }\n  }, {\n    key: \"handleSwipeStart\",\n    value: function handleSwipeStart(e) {\n      if (Utils.checkIsMoreThanSingleTouches(e)) return;\n      var rotationAngle = this.props.rotationAngle;\n      var movingPosition = Utils.calculateMovingPosition(e);\n\n      var _Utils$rotateByAngle = Utils.rotateByAngle(movingPosition, rotationAngle),\n          x = _Utils$rotateByAngle.x,\n          y = _Utils$rotateByAngle.y;\n\n      this.state = {\n        start: Date.now(),\n        x: x,\n        y: y,\n        isSwiping: false\n      };\n    }\n  }, {\n    key: \"handleSwipeMove\",\n    value: function handleSwipeMove(e) {\n      var _this$state2 = this.state,\n          x = _this$state2.x,\n          y = _this$state2.y;\n      if (!x || !y || Utils.checkIsMoreThanSingleTouches(e)) return;\n\n      var _this$getPosition = this.getPosition(e),\n          absX = _this$getPosition.absX,\n          absY = _this$getPosition.absY,\n          deltaX = _this$getPosition.deltaX,\n          deltaY = _this$getPosition.deltaY,\n          duration = _this$getPosition.duration;\n\n      var _this$props3 = this.props,\n          delta = _this$props3.delta,\n          onSwiping = _this$props3.onSwiping,\n          preventDefaultTouchmoveEvent = _this$props3.preventDefaultTouchmoveEvent;\n      if (e.cancelable && preventDefaultTouchmoveEvent) e.preventDefault();\n      if (absX < Number(delta) && absY < Number(delta)) return;\n      this.state.isSwiping = true;\n\n      if (onSwiping) {\n        onSwiping(e, deltaX, deltaY, absX, absY, duration);\n      }\n    }\n  }, {\n    key: \"handleSwipeEnd\",\n    value: function handleSwipeEnd(e) {\n      var _this$props4 = this.props,\n          onSwiped = _this$props4.onSwiped,\n          onTap = _this$props4.onTap;\n\n      if (this.state.isSwiping) {\n        var position = this.getPosition(e);\n        var deltaX = position.deltaX,\n            deltaY = position.deltaY,\n            absX = position.absX,\n            absY = position.absY,\n            duration = position.duration;\n        onSwiped && onSwiped(e, deltaX, deltaY, absX, absY, duration);\n      } else {\n        onTap && onTap(e);\n      }\n\n      this.state = Utils.getInitialState();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.handleSwipeStart(e);\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e) {\n      this.handleSwipeMove(e);\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(e) {\n      this.handleSwipeEnd(e);\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      var element = this.props.element;\n      var isSwiping = this.state.isSwiping;\n\n      if (element && isSwiping) {\n        element.dispatchEvent(new Event('mouseup', {\n          bubbles: true,\n          cancelable: true\n        }));\n      }\n    }\n  }]);\n\n  return VanillaSwipe;\n}();\n\nexports[\"default\"] = VanillaSwipe;","map":{"version":3,"sources":["/Users/aleca/Documents/REACT/web/Ideal/node_modules/vanilla-swipe/lib/index.js"],"names":["Object","defineProperty","exports","value","Utils","_interopRequireWildcard","require","_getRequireWildcardCache","WeakMap","cache","obj","__esModule","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_defineProperty","VanillaSwipe","state","getInitialState","getInitialProps","handleSwipeStart","bind","handleSwipeMove","handleSwipeEnd","handleMouseDown","handleMouseMove","handleMouseUp","handleMouseLeave","init","setupTouchListeners","setupMouseListeners","update","prevProps","nextProps","assign","element","destroy","mouseTrackingEnabled","cleanupMouseListeners","touchTrackingEnabled","cleanupTouchListeners","_this$props","isPassiveSupported","checkIsPassiveSupported","options","getOptions","addEventListener","removeEventListener","_this$props2","getPosition","e","_this$state","x","y","start","rotationAngle","movingPosition","calculateMovingPosition","rotatePosition","rotateByAngle","calculatePosition","checkIsMoreThanSingleTouches","_Utils$rotateByAngle","Date","now","isSwiping","_this$state2","_this$getPosition","absX","absY","deltaX","deltaY","duration","_this$props3","delta","onSwiping","preventDefaultTouchmoveEvent","cancelable","preventDefault","Number","_this$props4","onSwiped","onTap","position","dispatchEvent","Event","bubbles"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,KAAK,GAAGC,uBAAuB,CAACC,OAAO,CAAC,SAAD,CAAR,CAAnC;;AAEA,SAASC,wBAAT,GAAoC;AAAE,MAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AAAa,MAAIC,KAAK,GAAG,IAAID,OAAJ,EAAZ;;AAA2BD,EAAAA,wBAAwB,GAAG,SAASA,wBAAT,GAAoC;AAAE,WAAOE,KAAP;AAAe,GAAhF;;AAAkF,SAAOA,KAAP;AAAe;;AAElN,SAASJ,uBAAT,CAAiCK,GAAjC,EAAsC;AAAE,MAAIA,GAAG,IAAIA,GAAG,CAACC,UAAf,EAA2B;AAAE,WAAOD,GAAP;AAAa;;AAAC,MAAID,KAAK,GAAGF,wBAAwB,EAApC;;AAAwC,MAAIE,KAAK,IAAIA,KAAK,CAACG,GAAN,CAAUF,GAAV,CAAb,EAA6B;AAAE,WAAOD,KAAK,CAACI,GAAN,CAAUH,GAAV,CAAP;AAAwB;;AAAC,MAAII,MAAM,GAAG,EAAb;;AAAiB,MAAIJ,GAAG,IAAI,IAAX,EAAiB;AAAE,QAAIK,qBAAqB,GAAGf,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAACgB,wBAA5D;;AAAsF,SAAK,IAAIC,GAAT,IAAgBP,GAAhB,EAAqB;AAAE,UAAIV,MAAM,CAACkB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCV,GAArC,EAA0CO,GAA1C,CAAJ,EAAoD;AAAE,YAAII,IAAI,GAAGN,qBAAqB,GAAGf,MAAM,CAACgB,wBAAP,CAAgCN,GAAhC,EAAqCO,GAArC,CAAH,GAA+C,IAA/E;;AAAqF,YAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAAEtB,UAAAA,MAAM,CAACC,cAAP,CAAsBa,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AAA2C,SAAjF,MAAuF;AAAEP,UAAAA,MAAM,CAACG,GAAD,CAAN,GAAcP,GAAG,CAACO,GAAD,CAAjB;AAAyB;AAAE;AAAE;AAAE;;AAACH,EAAAA,MAAM,CAAC,SAAD,CAAN,GAAoBJ,GAApB;;AAAyB,MAAID,KAAJ,EAAW;AAAEA,IAAAA,KAAK,CAACa,GAAN,CAAUZ,GAAV,EAAeI,MAAf;AAAyB;;AAAC,SAAOA,MAAP;AAAgB;;AAExpB,SAASS,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAAE,QAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AAA2BE,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,QAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BnC,IAAAA,MAAM,CAACC,cAAP,CAAsB2B,MAAtB,EAA8BI,UAAU,CAACf,GAAzC,EAA8Ce,UAA9C;AAA4D;AAAE;;AAE7T,SAASI,YAAT,CAAsBX,WAAtB,EAAmCY,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,MAAID,UAAJ,EAAgBV,iBAAiB,CAACF,WAAW,CAACP,SAAb,EAAwBmB,UAAxB,CAAjB;AAAsD,MAAIC,WAAJ,EAAiBX,iBAAiB,CAACF,WAAD,EAAca,WAAd,CAAjB;AAA6C,SAAOb,WAAP;AAAqB;;AAEvN,SAASc,eAAT,CAAyB7B,GAAzB,EAA8BO,GAA9B,EAAmCd,KAAnC,EAA0C;AAAE,MAAIc,GAAG,IAAIP,GAAX,EAAgB;AAAEV,IAAAA,MAAM,CAACC,cAAP,CAAsBS,GAAtB,EAA2BO,GAA3B,EAAgC;AAAEd,MAAAA,KAAK,EAAEA,KAAT;AAAgB8B,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAEzB,IAAAA,GAAG,CAACO,GAAD,CAAH,GAAWd,KAAX;AAAmB;;AAAC,SAAOO,GAAP;AAAa;;AAEjN,IAAI8B,YAAY;AAChB;AACA,YAAY;AACV,WAASA,YAAT,CAAsBX,KAAtB,EAA6B;AAC3BN,IAAAA,eAAe,CAAC,IAAD,EAAOiB,YAAP,CAAf;;AAEAD,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;AAEAA,IAAAA,eAAe,CAAC,IAAD,EAAO,OAAP,EAAgB,KAAK,CAArB,CAAf;;AAEA,SAAKE,KAAL,GAAarC,KAAK,CAACsC,eAAN,EAAb;AACA,SAAKb,KAAL,GAAazB,KAAK,CAACuC,eAAN,CAAsBd,KAAtB,CAAb;AACA,SAAKe,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKC,eAAL,GAAuB,KAAKA,eAAL,CAAqBD,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKE,cAAL,GAAsB,KAAKA,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKG,eAAL,GAAuB,KAAKA,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKI,eAAL,GAAuB,KAAKA,eAAL,CAAqBJ,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKK,aAAL,GAAqB,KAAKA,aAAL,CAAmBL,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKM,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBN,IAAtB,CAA2B,IAA3B,CAAxB;AACD;;AAEDT,EAAAA,YAAY,CAACI,YAAD,EAAe,CAAC;AAC1BvB,IAAAA,GAAG,EAAE,MADqB;AAE1Bd,IAAAA,KAAK,EAAE,SAASiD,IAAT,GAAgB;AACrB,WAAKC,mBAAL;AACA,WAAKC,mBAAL;AACD;AALyB,GAAD,EAMxB;AACDrC,IAAAA,GAAG,EAAE,QADJ;AAEDd,IAAAA,KAAK,EAAE,SAASoD,MAAT,CAAgB1B,KAAhB,EAAuB;AAC5B,UAAI2B,SAAS,GAAG,KAAK3B,KAArB;AACA,UAAI4B,SAAS,GAAGzD,MAAM,CAAC0D,MAAP,CAAc,EAAd,EAAkBF,SAAlB,EAA6B3B,KAA7B,CAAhB;;AAEA,UAAI2B,SAAS,CAACG,OAAV,KAAsBF,SAAS,CAACE,OAApC,EAA6C;AAC3C,aAAKC,OAAL;AACA,aAAK/B,KAAL,GAAa4B,SAAb;AACA,aAAKL,IAAL;AACA;AACD;;AAED,WAAKvB,KAAL,GAAa4B,SAAb;;AAEA,UAAID,SAAS,CAACK,oBAAV,KAAmCJ,SAAS,CAACI,oBAAjD,EAAuE;AACrEJ,QAAAA,SAAS,CAACI,oBAAV,GAAiC,KAAKP,mBAAL,EAAjC,GAA8D,KAAKQ,qBAAL,EAA9D;AACD;;AAED,UAAIN,SAAS,CAACO,oBAAV,KAAmCN,SAAS,CAACM,oBAAjD,EAAuE;AACrEN,QAAAA,SAAS,CAACM,oBAAV,GAAiC,KAAKV,mBAAL,EAAjC,GAA8D,KAAKW,qBAAL,EAA9D;AACD;AACF;AAtBA,GANwB,EA6BxB;AACD/C,IAAAA,GAAG,EAAE,SADJ;AAEDd,IAAAA,KAAK,EAAE,SAASyD,OAAT,GAAmB;AACxB,WAAKE,qBAAL;AACA,WAAKE,qBAAL;AACA,WAAKvB,KAAL,GAAarC,KAAK,CAACsC,eAAN,EAAb;AACA,WAAKb,KAAL,GAAazB,KAAK,CAACuC,eAAN,EAAb;AACD;AAPA,GA7BwB,EAqCxB;AACD1B,IAAAA,GAAG,EAAE,qBADJ;AAEDd,IAAAA,KAAK,EAAE,SAASkD,mBAAT,GAA+B;AACpC,UAAIY,WAAW,GAAG,KAAKpC,KAAvB;AAAA,UACI8B,OAAO,GAAGM,WAAW,CAACN,OAD1B;AAAA,UAEII,oBAAoB,GAAGE,WAAW,CAACF,oBAFvC;;AAIA,UAAIJ,OAAO,IAAII,oBAAf,EAAqC;AACnC,YAAIG,kBAAkB,GAAG9D,KAAK,CAAC+D,uBAAN,EAAzB;AACA,YAAIC,OAAO,GAAGhE,KAAK,CAACiE,UAAN,CAAiBH,kBAAjB,CAAd;AACAP,QAAAA,OAAO,CAACW,gBAAR,CAAyB,YAAzB,EAAuC,KAAK1B,gBAA5C,EAA8DwB,OAA9D;AACAT,QAAAA,OAAO,CAACW,gBAAR,CAAyB,WAAzB,EAAsC,KAAKxB,eAA3C,EAA4DsB,OAA5D;AACAT,QAAAA,OAAO,CAACW,gBAAR,CAAyB,UAAzB,EAAqC,KAAKvB,cAA1C,EAA0DqB,OAA1D;AACD;AACF;AAdA,GArCwB,EAoDxB;AACDnD,IAAAA,GAAG,EAAE,uBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS6D,qBAAT,GAAiC;AACtC,UAAIL,OAAO,GAAG,KAAK9B,KAAL,CAAW8B,OAAzB;;AAEA,UAAIA,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACY,mBAAR,CAA4B,YAA5B,EAA0C,KAAK3B,gBAA/C;AACAe,QAAAA,OAAO,CAACY,mBAAR,CAA4B,WAA5B,EAAyC,KAAKzB,eAA9C;AACAa,QAAAA,OAAO,CAACY,mBAAR,CAA4B,UAA5B,EAAwC,KAAKxB,cAA7C;AACD;AACF;AAVA,GApDwB,EA+DxB;AACD9B,IAAAA,GAAG,EAAE,qBADJ;AAEDd,IAAAA,KAAK,EAAE,SAASmD,mBAAT,GAA+B;AACpC,UAAIkB,YAAY,GAAG,KAAK3C,KAAxB;AAAA,UACI8B,OAAO,GAAGa,YAAY,CAACb,OAD3B;AAAA,UAEIE,oBAAoB,GAAGW,YAAY,CAACX,oBAFxC;;AAIA,UAAIF,OAAO,IAAIE,oBAAf,EAAqC;AACnCF,QAAAA,OAAO,CAACW,gBAAR,CAAyB,WAAzB,EAAsC,KAAKtB,eAA3C;AACAW,QAAAA,OAAO,CAACW,gBAAR,CAAyB,WAAzB,EAAsC,KAAKrB,eAA3C;AACAU,QAAAA,OAAO,CAACW,gBAAR,CAAyB,SAAzB,EAAoC,KAAKpB,aAAzC;AACAS,QAAAA,OAAO,CAACW,gBAAR,CAAyB,YAAzB,EAAuC,KAAKnB,gBAA5C;AACD;AACF;AAbA,GA/DwB,EA6ExB;AACDlC,IAAAA,GAAG,EAAE,uBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS2D,qBAAT,GAAiC;AACtC,UAAIH,OAAO,GAAG,KAAK9B,KAAL,CAAW8B,OAAzB;;AAEA,UAAIA,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACY,mBAAR,CAA4B,WAA5B,EAAyC,KAAKvB,eAA9C;AACAW,QAAAA,OAAO,CAACY,mBAAR,CAA4B,WAA5B,EAAyC,KAAKtB,eAA9C;AACAU,QAAAA,OAAO,CAACY,mBAAR,CAA4B,SAA5B,EAAuC,KAAKrB,aAA5C;AACAS,QAAAA,OAAO,CAACY,mBAAR,CAA4B,YAA5B,EAA0C,KAAKpB,gBAA/C;AACD;AACF;AAXA,GA7EwB,EAyFxB;AACDlC,IAAAA,GAAG,EAAE,aADJ;AAEDd,IAAAA,KAAK,EAAE,SAASsE,WAAT,CAAqBC,CAArB,EAAwB;AAC7B,UAAIC,WAAW,GAAG,KAAKlC,KAAvB;AAAA,UACImC,CAAC,GAAGD,WAAW,CAACC,CADpB;AAAA,UAEIC,CAAC,GAAGF,WAAW,CAACE,CAFpB;AAAA,UAGIC,KAAK,GAAGH,WAAW,CAACG,KAHxB;AAIA,UAAIC,aAAa,GAAG,KAAKlD,KAAL,CAAWkD,aAA/B;AACA,UAAIC,cAAc,GAAG5E,KAAK,CAAC6E,uBAAN,CAA8BP,CAA9B,CAArB;AACA,UAAIQ,cAAc,GAAG9E,KAAK,CAAC+E,aAAN,CAAoBH,cAApB,EAAoCD,aAApC,CAArB;AACA,aAAO3E,KAAK,CAACgF,iBAAN,CAAwB;AAC7BR,QAAAA,CAAC,EAAEA,CAD0B;AAE7BC,QAAAA,CAAC,EAAEA,CAF0B;AAG7BC,QAAAA,KAAK,EAAEA;AAHsB,OAAxB,EAIJI,cAJI,CAAP;AAKD;AAfA,GAzFwB,EAyGxB;AACDjE,IAAAA,GAAG,EAAE,kBADJ;AAEDd,IAAAA,KAAK,EAAE,SAASyC,gBAAT,CAA0B8B,CAA1B,EAA6B;AAClC,UAAItE,KAAK,CAACiF,4BAAN,CAAmCX,CAAnC,CAAJ,EAA2C;AAC3C,UAAIK,aAAa,GAAG,KAAKlD,KAAL,CAAWkD,aAA/B;AACA,UAAIC,cAAc,GAAG5E,KAAK,CAAC6E,uBAAN,CAA8BP,CAA9B,CAArB;;AAEA,UAAIY,oBAAoB,GAAGlF,KAAK,CAAC+E,aAAN,CAAoBH,cAApB,EAAoCD,aAApC,CAA3B;AAAA,UACIH,CAAC,GAAGU,oBAAoB,CAACV,CAD7B;AAAA,UAEIC,CAAC,GAAGS,oBAAoB,CAACT,CAF7B;;AAIA,WAAKpC,KAAL,GAAa;AACXqC,QAAAA,KAAK,EAAES,IAAI,CAACC,GAAL,EADI;AAEXZ,QAAAA,CAAC,EAAEA,CAFQ;AAGXC,QAAAA,CAAC,EAAEA,CAHQ;AAIXY,QAAAA,SAAS,EAAE;AAJA,OAAb;AAMD;AAjBA,GAzGwB,EA2HxB;AACDxE,IAAAA,GAAG,EAAE,iBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS2C,eAAT,CAAyB4B,CAAzB,EAA4B;AACjC,UAAIgB,YAAY,GAAG,KAAKjD,KAAxB;AAAA,UACImC,CAAC,GAAGc,YAAY,CAACd,CADrB;AAAA,UAEIC,CAAC,GAAGa,YAAY,CAACb,CAFrB;AAGA,UAAI,CAACD,CAAD,IAAM,CAACC,CAAP,IAAYzE,KAAK,CAACiF,4BAAN,CAAmCX,CAAnC,CAAhB,EAAuD;;AAEvD,UAAIiB,iBAAiB,GAAG,KAAKlB,WAAL,CAAiBC,CAAjB,CAAxB;AAAA,UACIkB,IAAI,GAAGD,iBAAiB,CAACC,IAD7B;AAAA,UAEIC,IAAI,GAAGF,iBAAiB,CAACE,IAF7B;AAAA,UAGIC,MAAM,GAAGH,iBAAiB,CAACG,MAH/B;AAAA,UAIIC,MAAM,GAAGJ,iBAAiB,CAACI,MAJ/B;AAAA,UAKIC,QAAQ,GAAGL,iBAAiB,CAACK,QALjC;;AAOA,UAAIC,YAAY,GAAG,KAAKpE,KAAxB;AAAA,UACIqE,KAAK,GAAGD,YAAY,CAACC,KADzB;AAAA,UAEIC,SAAS,GAAGF,YAAY,CAACE,SAF7B;AAAA,UAGIC,4BAA4B,GAAGH,YAAY,CAACG,4BAHhD;AAIA,UAAI1B,CAAC,CAAC2B,UAAF,IAAgBD,4BAApB,EAAkD1B,CAAC,CAAC4B,cAAF;AAClD,UAAIV,IAAI,GAAGW,MAAM,CAACL,KAAD,CAAb,IAAwBL,IAAI,GAAGU,MAAM,CAACL,KAAD,CAAzC,EAAkD;AAClD,WAAKzD,KAAL,CAAWgD,SAAX,GAAuB,IAAvB;;AAEA,UAAIU,SAAJ,EAAe;AACbA,QAAAA,SAAS,CAACzB,CAAD,EAAIoB,MAAJ,EAAYC,MAAZ,EAAoBH,IAApB,EAA0BC,IAA1B,EAAgCG,QAAhC,CAAT;AACD;AACF;AA1BA,GA3HwB,EAsJxB;AACD/E,IAAAA,GAAG,EAAE,gBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS4C,cAAT,CAAwB2B,CAAxB,EAA2B;AAChC,UAAI8B,YAAY,GAAG,KAAK3E,KAAxB;AAAA,UACI4E,QAAQ,GAAGD,YAAY,CAACC,QAD5B;AAAA,UAEIC,KAAK,GAAGF,YAAY,CAACE,KAFzB;;AAIA,UAAI,KAAKjE,KAAL,CAAWgD,SAAf,EAA0B;AACxB,YAAIkB,QAAQ,GAAG,KAAKlC,WAAL,CAAiBC,CAAjB,CAAf;AACA,YAAIoB,MAAM,GAAGa,QAAQ,CAACb,MAAtB;AAAA,YACIC,MAAM,GAAGY,QAAQ,CAACZ,MADtB;AAAA,YAEIH,IAAI,GAAGe,QAAQ,CAACf,IAFpB;AAAA,YAGIC,IAAI,GAAGc,QAAQ,CAACd,IAHpB;AAAA,YAIIG,QAAQ,GAAGW,QAAQ,CAACX,QAJxB;AAKAS,QAAAA,QAAQ,IAAIA,QAAQ,CAAC/B,CAAD,EAAIoB,MAAJ,EAAYC,MAAZ,EAAoBH,IAApB,EAA0BC,IAA1B,EAAgCG,QAAhC,CAApB;AACD,OARD,MAQO;AACLU,QAAAA,KAAK,IAAIA,KAAK,CAAChC,CAAD,CAAd;AACD;;AAED,WAAKjC,KAAL,GAAarC,KAAK,CAACsC,eAAN,EAAb;AACD;AApBA,GAtJwB,EA2KxB;AACDzB,IAAAA,GAAG,EAAE,iBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS6C,eAAT,CAAyB0B,CAAzB,EAA4B;AACjC,WAAK9B,gBAAL,CAAsB8B,CAAtB;AACD;AAJA,GA3KwB,EAgLxB;AACDzD,IAAAA,GAAG,EAAE,iBADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS8C,eAAT,CAAyByB,CAAzB,EAA4B;AACjC,WAAK5B,eAAL,CAAqB4B,CAArB;AACD;AAJA,GAhLwB,EAqLxB;AACDzD,IAAAA,GAAG,EAAE,eADJ;AAEDd,IAAAA,KAAK,EAAE,SAAS+C,aAAT,CAAuBwB,CAAvB,EAA0B;AAC/B,WAAK3B,cAAL,CAAoB2B,CAApB;AACD;AAJA,GArLwB,EA0LxB;AACDzD,IAAAA,GAAG,EAAE,kBADJ;AAEDd,IAAAA,KAAK,EAAE,SAASgD,gBAAT,GAA4B;AACjC,UAAIQ,OAAO,GAAG,KAAK9B,KAAL,CAAW8B,OAAzB;AACA,UAAI8B,SAAS,GAAG,KAAKhD,KAAL,CAAWgD,SAA3B;;AAEA,UAAI9B,OAAO,IAAI8B,SAAf,EAA0B;AACxB9B,QAAAA,OAAO,CAACiD,aAAR,CAAsB,IAAIC,KAAJ,CAAU,SAAV,EAAqB;AACzCC,UAAAA,OAAO,EAAE,IADgC;AAEzCT,UAAAA,UAAU,EAAE;AAF6B,SAArB,CAAtB;AAID;AACF;AAZA,GA1LwB,CAAf,CAAZ;;AAyMA,SAAO7D,YAAP;AACD,CA7ND,EAFA;;AAiOAtC,OAAO,CAAC,SAAD,CAAP,GAAqBsC,YAArB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar Utils = _interopRequireWildcard(require(\"./utils\"));\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; if (obj != null) { var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar VanillaSwipe =\n/*#__PURE__*/\nfunction () {\n  function VanillaSwipe(props) {\n    _classCallCheck(this, VanillaSwipe);\n\n    _defineProperty(this, \"state\", void 0);\n\n    _defineProperty(this, \"props\", void 0);\n\n    this.state = Utils.getInitialState();\n    this.props = Utils.getInitialProps(props);\n    this.handleSwipeStart = this.handleSwipeStart.bind(this);\n    this.handleSwipeMove = this.handleSwipeMove.bind(this);\n    this.handleSwipeEnd = this.handleSwipeEnd.bind(this);\n    this.handleMouseDown = this.handleMouseDown.bind(this);\n    this.handleMouseMove = this.handleMouseMove.bind(this);\n    this.handleMouseUp = this.handleMouseUp.bind(this);\n    this.handleMouseLeave = this.handleMouseLeave.bind(this);\n  }\n\n  _createClass(VanillaSwipe, [{\n    key: \"init\",\n    value: function init() {\n      this.setupTouchListeners();\n      this.setupMouseListeners();\n    }\n  }, {\n    key: \"update\",\n    value: function update(props) {\n      var prevProps = this.props;\n      var nextProps = Object.assign({}, prevProps, props);\n\n      if (prevProps.element !== nextProps.element) {\n        this.destroy();\n        this.props = nextProps;\n        this.init();\n        return;\n      }\n\n      this.props = nextProps;\n\n      if (prevProps.mouseTrackingEnabled !== nextProps.mouseTrackingEnabled) {\n        nextProps.mouseTrackingEnabled ? this.setupMouseListeners() : this.cleanupMouseListeners();\n      }\n\n      if (prevProps.touchTrackingEnabled !== nextProps.touchTrackingEnabled) {\n        nextProps.touchTrackingEnabled ? this.setupTouchListeners() : this.cleanupTouchListeners();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.cleanupMouseListeners();\n      this.cleanupTouchListeners();\n      this.state = Utils.getInitialState();\n      this.props = Utils.getInitialProps();\n    }\n  }, {\n    key: \"setupTouchListeners\",\n    value: function setupTouchListeners() {\n      var _this$props = this.props,\n          element = _this$props.element,\n          touchTrackingEnabled = _this$props.touchTrackingEnabled;\n\n      if (element && touchTrackingEnabled) {\n        var isPassiveSupported = Utils.checkIsPassiveSupported();\n        var options = Utils.getOptions(isPassiveSupported);\n        element.addEventListener('touchstart', this.handleSwipeStart, options);\n        element.addEventListener('touchmove', this.handleSwipeMove, options);\n        element.addEventListener('touchend', this.handleSwipeEnd, options);\n      }\n    }\n  }, {\n    key: \"cleanupTouchListeners\",\n    value: function cleanupTouchListeners() {\n      var element = this.props.element;\n\n      if (element) {\n        element.removeEventListener('touchstart', this.handleSwipeStart);\n        element.removeEventListener('touchmove', this.handleSwipeMove);\n        element.removeEventListener('touchend', this.handleSwipeEnd);\n      }\n    }\n  }, {\n    key: \"setupMouseListeners\",\n    value: function setupMouseListeners() {\n      var _this$props2 = this.props,\n          element = _this$props2.element,\n          mouseTrackingEnabled = _this$props2.mouseTrackingEnabled;\n\n      if (element && mouseTrackingEnabled) {\n        element.addEventListener('mousedown', this.handleMouseDown);\n        element.addEventListener('mousemove', this.handleMouseMove);\n        element.addEventListener('mouseup', this.handleMouseUp);\n        element.addEventListener('mouseleave', this.handleMouseLeave);\n      }\n    }\n  }, {\n    key: \"cleanupMouseListeners\",\n    value: function cleanupMouseListeners() {\n      var element = this.props.element;\n\n      if (element) {\n        element.removeEventListener('mousedown', this.handleMouseDown);\n        element.removeEventListener('mousemove', this.handleMouseMove);\n        element.removeEventListener('mouseup', this.handleMouseUp);\n        element.removeEventListener('mouseleave', this.handleMouseLeave);\n      }\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(e) {\n      var _this$state = this.state,\n          x = _this$state.x,\n          y = _this$state.y,\n          start = _this$state.start;\n      var rotationAngle = this.props.rotationAngle;\n      var movingPosition = Utils.calculateMovingPosition(e);\n      var rotatePosition = Utils.rotateByAngle(movingPosition, rotationAngle);\n      return Utils.calculatePosition({\n        x: x,\n        y: y,\n        start: start\n      }, rotatePosition);\n    }\n  }, {\n    key: \"handleSwipeStart\",\n    value: function handleSwipeStart(e) {\n      if (Utils.checkIsMoreThanSingleTouches(e)) return;\n      var rotationAngle = this.props.rotationAngle;\n      var movingPosition = Utils.calculateMovingPosition(e);\n\n      var _Utils$rotateByAngle = Utils.rotateByAngle(movingPosition, rotationAngle),\n          x = _Utils$rotateByAngle.x,\n          y = _Utils$rotateByAngle.y;\n\n      this.state = {\n        start: Date.now(),\n        x: x,\n        y: y,\n        isSwiping: false\n      };\n    }\n  }, {\n    key: \"handleSwipeMove\",\n    value: function handleSwipeMove(e) {\n      var _this$state2 = this.state,\n          x = _this$state2.x,\n          y = _this$state2.y;\n      if (!x || !y || Utils.checkIsMoreThanSingleTouches(e)) return;\n\n      var _this$getPosition = this.getPosition(e),\n          absX = _this$getPosition.absX,\n          absY = _this$getPosition.absY,\n          deltaX = _this$getPosition.deltaX,\n          deltaY = _this$getPosition.deltaY,\n          duration = _this$getPosition.duration;\n\n      var _this$props3 = this.props,\n          delta = _this$props3.delta,\n          onSwiping = _this$props3.onSwiping,\n          preventDefaultTouchmoveEvent = _this$props3.preventDefaultTouchmoveEvent;\n      if (e.cancelable && preventDefaultTouchmoveEvent) e.preventDefault();\n      if (absX < Number(delta) && absY < Number(delta)) return;\n      this.state.isSwiping = true;\n\n      if (onSwiping) {\n        onSwiping(e, deltaX, deltaY, absX, absY, duration);\n      }\n    }\n  }, {\n    key: \"handleSwipeEnd\",\n    value: function handleSwipeEnd(e) {\n      var _this$props4 = this.props,\n          onSwiped = _this$props4.onSwiped,\n          onTap = _this$props4.onTap;\n\n      if (this.state.isSwiping) {\n        var position = this.getPosition(e);\n        var deltaX = position.deltaX,\n            deltaY = position.deltaY,\n            absX = position.absX,\n            absY = position.absY,\n            duration = position.duration;\n        onSwiped && onSwiped(e, deltaX, deltaY, absX, absY, duration);\n      } else {\n        onTap && onTap(e);\n      }\n\n      this.state = Utils.getInitialState();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(e) {\n      this.handleSwipeStart(e);\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e) {\n      this.handleSwipeMove(e);\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(e) {\n      this.handleSwipeEnd(e);\n    }\n  }, {\n    key: \"handleMouseLeave\",\n    value: function handleMouseLeave() {\n      var element = this.props.element;\n      var isSwiping = this.state.isSwiping;\n\n      if (element && isSwiping) {\n        element.dispatchEvent(new Event('mouseup', {\n          bubbles: true,\n          cancelable: true\n        }));\n      }\n    }\n  }]);\n\n  return VanillaSwipe;\n}();\n\nexports[\"default\"] = VanillaSwipe;"]},"metadata":{},"sourceType":"script"}