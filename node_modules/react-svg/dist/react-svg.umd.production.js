!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["exports","react","react-dom/server"],e):e((t=t||self).ReactSVG={},t.React,t.ReactDOMServer)}(this,(function(t,e,r){"use strict";r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var n=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i};function i(t,e){return t(e={exports:{}},e.exports),e.exports}i((function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e})),i((function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e}));var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},a=function(t){return t.cloneNode(!0)},s=function(){return"file:"===window.location.protocol},l=new Map,c={},u=function(t,e){c[t]=c[t]||[],c[t].push(e)},f=function(t){for(var e=function(e,r){setTimeout((function(){if(Array.isArray(c[t])){var r=l.get(t),n=c[t][e];(r instanceof SVGSVGElement||r instanceof HTMLElement)&&n(null,a(r)),r instanceof Error&&n(r),e===c[t].length-1&&delete c[t]}}),0)},r=0,n=c[t].length;r<n;r++)e(r)},p=0,d=[],h={},v="http://www.w3.org/1999/xlink",m=function(t,e,r,n,i){var o=t.getAttribute("data-src")||t.getAttribute("src");if(o&&/\.svg/i.test(o)){if(-1!==d.indexOf(t))return d.splice(d.indexOf(t),1),void(t=null);d.push(t),t.setAttribute("src",""),function(t,e){if(l.has(t)){var r=l.get(t);return r instanceof SVGSVGElement||r instanceof HTMLElement?void e(null,a(r)):r instanceof Error?void e(r):void u(t,e)}l.set(t,void 0),u(t,e);var n=new XMLHttpRequest;n.onreadystatechange=function(){try{if(4===n.readyState){if(404===n.status||null===n.responseXML)throw new Error(s()?"Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(!(200===n.status||s()&&0===n.status))throw new Error("There was a problem injecting the SVG: "+n.status+" "+n.statusText);n.responseXML instanceof Document&&n.responseXML.documentElement&&l.set(t,n.responseXML.documentElement),f(t)}}catch(e){l.set(t,e),f(t)}},n.open("GET",t),n.overrideMimeType&&n.overrideMimeType("text/xml"),n.send()}(o,(function(a,s){if(!s)return d.splice(d.indexOf(t),1),t=null,void i(a);var l=t.getAttribute("id");l&&s.setAttribute("id",l);var c=t.getAttribute("title");c&&s.setAttribute("title",c);var u=t.getAttribute("width");u&&s.setAttribute("width",u);var f=t.getAttribute("height");f&&s.setAttribute("height",f);var m=Array.from(new Set(function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}((s.getAttribute("class")||"").split(" "),["injected-svg"],(t.getAttribute("class")||"").split(" ")))).join(" ").trim();s.setAttribute("class",m);var g=t.getAttribute("style");g&&s.setAttribute("style",g),s.setAttribute("data-src",o);var b=[].filter.call(t.attributes,(function(t){return/^data-\w[\w-]*$/.test(t.name)}));if(Array.prototype.forEach.call(b,(function(t){t.name&&t.value&&s.setAttribute(t.name,t.value)})),r){var y,S,A,w,E={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(E).forEach((function(t){S=E[t];for(var e=function(t,e){var r;w=(A=y[t].id)+"-"+ ++p,Array.prototype.forEach.call(S,(function(t){for(var e=0,n=(r=s.querySelectorAll("["+t+'*="'+A+'"]')).length;e<n;e++){var i=r[e].getAttribute(t);i&&!i.match(new RegExp("url\\(#"+A+"\\)"))||r[e].setAttribute(t,"url(#"+w+")")}}));for(var n=s.querySelectorAll("[*|href]"),i=[],o=0,a=n.length;o<a;o++){var l=n[o].getAttributeNS(v,"href");l&&l.toString()==="#"+y[t].id&&i.push(n[o])}for(var c=0,u=i.length;c<u;c++)i[c].setAttributeNS(v,"href","#"+w);y[t].id=w},r=0,n=(y=s.querySelectorAll(t+"[id]")).length;r<n;r++)e(r)}))}s.removeAttribute("xmlns:a");for(var x,j,k=s.querySelectorAll("script"),O=[],G=0,M=k.length;G<M;G++)(j=k[G].getAttribute("type"))&&"application/ecmascript"!==j&&"application/javascript"!==j&&"text/javascript"!==j||((x=k[G].innerText||k[G].textContent)&&O.push(x),s.removeChild(k[G]));if(O.length>0&&("always"===e||"once"===e&&!h[o])){for(var I=0,V=O.length;I<V;I++)new Function(O[I])(window);h[o]=!0}var _=s.querySelectorAll("style");Array.prototype.forEach.call(_,(function(t){t.textContent+=""})),s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:xlink",v),n(s),t.parentNode&&t.parentNode.replaceChild(s,t),d.splice(d.indexOf(t),1),t=null,i(null,s)}))}else i(new Error("Attempted to inject a file with a non-svg extension: "+o))},g=function(t){function i(){var e;return(e=t.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},e.state=e.initialState,e._isMounted=!1,e.refCallback=function(t){e.container=t},e}o(i,t);var a=i.prototype;return a.renderSVG=function(){var t=this;if(this.container instanceof Node){var n=this.props,i=n.beforeInjection,o=n.evalScripts,a=n.renumerateIRIElements,s=n.src,l=this.props.afterInjection,c=this.props.wrapper,u=document.createElement(c);u.innerHTML=r.renderToStaticMarkup(e.createElement(c,null,e.createElement(c,{"data-src":s}))),this.svgWrapper=this.container.appendChild(u.firstChild);!function(t,e){var r=void 0===e?{}:e,n=r.afterAll,i=void 0===n?function(){}:n,o=r.afterEach,a=void 0===o?function(){}:o,s=r.beforeEach,l=void 0===s?function(){}:s,c=r.evalScripts,u=void 0===c?"never":c,f=r.renumerateIRIElements,p=void 0===f||f;if(t&&"length"in t)for(var d=0,h=0,v=t.length;h<v;h++)m(t[h],u,p,l,(function(e,r){a(e,r),t&&"length"in t&&t.length===++d&&i(d)}));else t?m(t,u,p,l,(function(e,r){a(e,r),i(1),t=null})):i(0)}(this.svgWrapper.firstChild,{afterEach:function(e,r){e&&t.removeSVG(),t._isMounted&&t.setState((function(){return{hasError:!!e,isLoading:!1}}),(function(){l(e,r)}))},beforeEach:i,evalScripts:o,renumerateIRIElements:a})}},a.removeSVG=function(){this.container instanceof Node&&this.svgWrapper instanceof Node&&(this.container.removeChild(this.svgWrapper),this.svgWrapper=null)},a.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},a.componentDidUpdate=function(t){var e=this;(function(t,e){for(var r in t)if(!(r in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1})(t,this.props)&&this.setState((function(){return e.initialState}),(function(){e.removeSVG(),e.renderSVG()}))},a.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},a.render=function(){var t=this.props,r=t.fallback,i=t.loading,o=t.wrapper,a=n(t,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","wrapper"]);return e.createElement(o,Object.assign({},a,{ref:this.refCallback}),this.state.isLoading&&i&&e.createElement(i,null),this.state.hasError&&r&&e.createElement(r,null))},i}(e.Component);g.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,wrapper:"div"},t.ReactSVG=g,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=react-svg.umd.production.js.map
